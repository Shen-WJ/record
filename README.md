# record

> a project named record

## Dev

```bash
# install dep
npm i

# for dev
npm run watch

# for online
npm run product
```

### 1.1.0 TODO

- report(举报审核小程序)
* 仅限开发版，
* 确保接口别人无法访问，每次打开请求openid，后台返回一个2小时的随机有效id用于访问，同时提供主动使id失效的接口，在小程序关闭时会调用（即接口1-发code收id；接口2-发id使之失效）

* 举报分级（类型-总分-单次扣分）：严重-6-3，普通-6-1，轻微-1-0
* 用户积分为0则永封。

* 严重：严重者，即不可容忍二次，对平台百害而无一益者。
  最简单的判断法则是，假设被举报内容两次出现在你的附近，你觉得这人/号没救了，此为严重。
  如“澳门赌场线上赌博https://xxxx.com”，”冰粉，速取“，”看xxx不爽很久了，有没有人一起去卸他一条胳膊的“，皆为严重，赌毒暴一般为严重，两次即永封，请！谨！慎！选！择！

* 普通：普通者，即需要记过，但罪不至死者。
  简单判断法则是，假设被举报内容两次出现在你的附近页，你想打他又觉得还有救，此为普通。
  ”abc住在五楼501“，”xxx，你的裸照在我手里，快跟我复合“（实际未发布，发布了就属于严重），”支那人是纯种猪“，”支持港台藏疆独立“，无理由的侵犯地址电话真名等为普通，引起群情激愤的政治立场为普通。

* 轻微：轻微者，即只需删除动态，不考虑封号，权当无事发生即可。
  简单规则，让你想删除动态，但觉得这人不是少数，多数人都可能这么做，即为轻微。
  ”你是傻逼吗“，”司马东西“，”xxx开业大酬宾，欢迎品尝“，”ceuiozmwinxi发v发日每次呃呃反复揉过的“，纯广告，恶意攻击谩骂，无效信息。

* 驳回：即不必删除，为恶意举报或精神洁癖者无事生非。
  判断法则，你作为旁观者，不影响正常使用，或者对大多数用户，不影响正常使用。
  “我爱我家你个垃圾中介”，“你这话我不爱听，快删了”，“我他妈的气死”，“这栋楼的201室闹鬼”，“市政府咋不干实事呢？”，“住在5楼的xxx，你欠钱不还，大家别借他钱！”，“xxx奶茶店珍珠奶茶真的好喝，最近还在做活动打折”，皆为正常发言，驳回不处理。有理由的曝光个人信息不予处理

* 有限时间的封号：所有举报成功都涉及有限封号（只封发布和评论功能），时间(天数)为：严重（3-永久），普通（1-3），轻微（0-0-0）。空白期3


- release（发布页）
* 增加地图选点发布
* 首次发布要求同意协议（待定，方案二：在进入首页时弹出协议以同意）

- me（个人页）
* 增加设置入口，包括多项：1）个人信息编辑，增加个签暂定50字；2）开启关闭黑夜模式（可支持个人页长按head设置）；3）关于，进行版本、开发、产品介绍；4）用户协议
* 视情况增加签到功能

- locality（附近页）
* 增加sectionHeader的吸顶
* 视数据量情况，可能把launch入口改为find页

- find（发现页）
* 默认为20km或者更远，排序为当天由高到低的热度（即拆分原‘最热’为：今日最热,七天最热）
  (20km为了数据够多；当天最热为了用户每天都想点进来看；七天最热为了产生热点事件)

- recordDetail（点迹详情页）
* 增加评论功能，一级评论（待定，建议做成二级评论，不行的话至少也记录下被回复的初始评论的id，方便以后做成二级）
* 评论默认按最早排序（由旧到新），支持按最新，最热，最早的排序
* 评论可点赞，点踩，热度只与赞有关，踩无关（只是让用户点个爽，不显示踩数）
* 支持举报评论

- NEW:被永封的用户，个人页不可访问，动态全部删除，（评论可删除则删）

# WAITING(即待定)

- NEW:othersHome（他人主页）
* 展示他人信息：头像、昵称、性别
* 可关注/取关
* 可举报/拉黑（待定，拉黑意味着不显示此人所有信息，包括评论，动态）
* 分享他人主页
* 显示个签

- NEW:follows（关注页）
* 展示关注的用户的动态，时间排序、
